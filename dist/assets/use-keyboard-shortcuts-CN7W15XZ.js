import{j as e}from"./radix-ui-Crli8-Dx.js";import{D as s,a,b as t,c as r,d as l}from"./dialog-W_eRI_WK.js";import{S as c,f as n,B as i}from"./index-CNwujOOT.js";import{A as o,m as d}from"./animations-CAl9KjXG.js";import{w as m,K as x,$ as h,O as u,W as j,F as p,U as y,a5 as f,r as N,D as g,m as v}from"./utilities-BH0DC7Sl.js";import{r as b}from"./react-core-CKNU0hQt.js";const w=({isOpen:b,onClose:w,title:k,data:E,fields:C,onEdit:D,onDelete:K,onExport:B,canEdit:S=!0,canDelete:L=!0,canExport:A=!0,loading:U=!1,subtitle:$})=>{const z=s=>{const{value:a,type:t,customComponent:r}=s;if("custom"===t&&r)return r;if(null==a||""===a)return e.jsx("span",{className:"text-gray-400",children:"N/A"});switch(t){case"date":return new Date(a).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});case"currency":return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(a);case"badge":return e.jsx(i,{className:`${s.badgeColor||"bg-gray-500"} text-white`,children:a});case"email":return e.jsxs("a",{href:`mailto:${a}`,className:"text-blue-600 hover:underline flex items-center space-x-1",children:[e.jsx(N,{className:"w-3 h-3"}),e.jsx("span",{children:a})]});case"phone":return e.jsxs("a",{href:`tel:${a}`,className:"text-blue-600 hover:underline flex items-center space-x-1",children:[e.jsx(f,{className:"w-3 h-3"}),e.jsx("span",{children:a})]});case"boolean":return e.jsx(i,{variant:a?"default":"secondary",children:a?"Yes":"No"});case"number":return"number"==typeof a?a.toLocaleString():a;default:return String(a)}},O=s=>{if(s.icon){const a=s.icon;return e.jsx(a,{className:"w-4 h-4 text-gray-500"})}switch(s.type){case"date":return e.jsx(v,{className:"w-4 h-4 text-gray-500"});case"currency":return e.jsx(g,{className:"w-4 h-4 text-gray-500"});case"email":return e.jsx(N,{className:"w-4 h-4 text-gray-500"});case"phone":return e.jsx(f,{className:"w-4 h-4 text-gray-500"});case"custom":return e.jsx(y,{className:"w-4 h-4 text-gray-500"});default:return e.jsx(p,{className:"w-4 h-4 text-gray-500"})}},T=C.filter(e=>!e.hidden);return e.jsx(s,{open:b,onOpenChange:w,children:e.jsx(a,{className:"max-w-2xl max-h-[90vh] overflow-hidden flex flex-col",children:e.jsx(o,{children:b&&e.jsxs(d.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},transition:{duration:.2},children:[e.jsx(t,{className:"border-b pb-4",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{className:"w-6 h-6 text-blue-600"}),e.jsxs("div",{children:[e.jsx(r,{className:"text-xl font-bold",children:k}),$&&e.jsx(l,{className:"mt-1",children:$})]})]})}),e.jsx("div",{className:"max-h-[60vh] overflow-y-auto flex-1 modal-scrollbar",children:e.jsx("div",{className:"space-y-6 py-6 pr-6 min-h-0",children:U?e.jsx("div",{className:"space-y-4",children:[...Array(6)].map((s,a)=>e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-4 h-4 bg-gray-200 rounded animate-pulse"}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-24 animate-pulse"}),e.jsx("div",{className:"h-4 bg-gray-100 rounded w-32 animate-pulse"})]})]},a))}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:T.map((s,a)=>{const t="custom"===s.type&&"profile_picture"===s.key;return e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*a},className:"space-y-2 "+(t?"md:col-span-2":""),children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[O(s),e.jsx("span",{className:"text-sm font-medium text-gray-700",children:s.label})]}),e.jsx("div",{className:""+(t?"flex justify-center":"pl-6"),children:e.jsx("div",{className:"text-sm text-gray-900 font-medium",children:z(s)})})]},s.key)})})})}),e.jsx(c,{}),e.jsxs("div",{className:"flex items-center justify-between pt-4",children:[e.jsx("div",{className:"flex items-center space-x-2 text-xs text-gray-500",children:e.jsx(x,{className:"w-3 h-3"})}),e.jsxs("div",{className:"flex items-center space-x-2",children:[A&&B&&e.jsxs(n,{variant:"outline",size:"sm",onClick:B,className:"flex items-center space-x-1",children:[e.jsx(h,{className:"w-4 h-4"}),e.jsx("span",{children:"Export"})]}),L&&K&&e.jsxs(n,{variant:"outline",size:"sm",onClick:K,className:"text-red-600 hover:text-red-700 flex items-center space-x-1",children:[e.jsx(u,{className:"w-4 h-4"}),e.jsx("span",{children:"Delete"})]}),S&&D&&e.jsxs(n,{size:"sm",onClick:D,className:"flex items-center space-x-1",children:[e.jsx(j,{className:"w-4 h-4"}),e.jsx("span",{children:"Edit"})]})]})]})]})})})})},k=(e,s,a,t,r)=>{(e=>{const s=b.useCallback(s=>{const a=s.target;if("INPUT"===a.tagName||"TEXTAREA"===a.tagName||a.isContentEditable)return;const t=e.find(e=>!e.disabled&&s.key.toLowerCase()===e.key.toLowerCase()&&Boolean(s.ctrlKey)===Boolean(e.ctrlKey)&&Boolean(s.altKey)===Boolean(e.altKey)&&Boolean(s.shiftKey)===Boolean(e.shiftKey));t&&(s.preventDefault(),t.callback())},[e]);b.useEffect(()=>(document.addEventListener("keydown",s),()=>{document.removeEventListener("keydown",s)}),[s])})([{key:"v",callback:()=>e&&s(e),disabled:!e},{key:"e",callback:()=>e&&a(e),disabled:!e},{key:"d",callback:()=>e&&t(e),disabled:!e},{key:"n",ctrlKey:!0,callback:r}])};export{w as V,k as u};

import{j as e}from"./radix-ui-woSLwCdF.js";import{r as s}from"./react-core-CKNU0hQt.js";import{p as t,C as a,h as r,e as l,I as n,D as c,a as i,b as o,c as d,d as m,B as u,L as x,f as h,g as p,k as j}from"./index-DQt9P8ND.js";import{N as b}from"./number-input-Do8twij3.js";import{S as f,c as g,d as y,a as N,b as v}from"./select-D06ifptu.js";import{Y as w,R as _,X as C,P as S,W as k,ae as P,K as $,$ as q,am as F,V as O,Q as E}from"./utilities-BV0J3KZr.js";import{u as I,d as D}from"./routing-DcURAnU1.js";import"./data-management-r38r-ocq.js";import"./animations-CdlE0-Ca.js";const L=({onProductSelect:c,placeholder:i="Search products by name, code, category, or supplier...",showAllProducts:o=!0})=>{const[d,m]=s.useState(""),[u,x]=s.useState([]),[h,p]=s.useState([]),[j,b]=s.useState(!1),[f,g]=s.useState(!1),y=s.useRef(null),{showError:N,showInfo:v,showSuccess:k}=t();s.useEffect(()=>{o&&$()},[o]);const P=(e,s)=>!!e&&e.toLowerCase().includes(s.toLowerCase());s.useEffect(()=>{if(""===d.trim())p(o?u:[]),g(o&&u.length>0);else{const e=d.toLowerCase(),s=u.filter(s=>P(s.product_name,e)||P(s.product_code,e)||P(s.category,e)||P(s.supplier,e)||P(s.description,e)||P(s.bar_code_case,e)||P(s.bar_code_unit,e));p(s),g(s.length>0)}},[d,u,o]),s.useEffect(()=>{const e=e=>{y.current&&!y.current.contains(e.target)&&g(!1)};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);const $=async()=>{try{b(!0),console.log("Loading all products from products table...");const{data:e,error:s}=await window.ezsite.apis.tablePage("11726",{PageNo:1,PageSize:1e3,OrderByField:"product_name",IsAsc:!0,Filters:[]});if(s)throw s;const t=e?.List||[];console.log(`Loaded ${t.length} products:`,t),x(t),p(t),0===t.length?v("No Products Available","No products are currently available in the database. Please check with your administrator or try refreshing the data."):k("Products Loaded",`Successfully loaded ${t.length} products.`)}catch(e){console.error("Error loading products:",e),N(e,"Failed to load products from database. Please try again or contact support if the problem persists.")}finally{b(!1)}};return e.jsx(a,{className:"border-2 border-dashed border-blue-300 hover:border-blue-500 transition-colors",children:e.jsx(r,{className:"p-6",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx(w,{className:"w-12 h-12 text-blue-600"}),e.jsxs(l,{onClick:()=>{$()},variant:"outline",size:"sm",disabled:j,className:"flex items-center space-x-2",children:[e.jsx(_,{className:"w-4 h-4 "+(j?"animate-spin":"")}),e.jsx("span",{children:"Refresh"})]})]}),e.jsx("h3",{className:"text-lg font-semibold",children:"Product Search & Browse"}),e.jsx("p",{className:"text-muted-foreground",children:"Search products by name, code, category, supplier, or browse all available products"}),u.length>0&&e.jsxs("p",{className:"text-sm text-green-600 font-medium",children:[h.length," of ",u.length," products shown"]}),e.jsxs("div",{ref:y,className:"relative w-full max-w-md mx-auto",children:[e.jsxs("div",{className:"relative",children:[e.jsx(n,{type:"text",value:d,onChange:e=>m(e.target.value),placeholder:i,className:"pr-20",onFocus:()=>g(h.length>0)}),e.jsxs("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 flex items-center space-x-1",children:[j&&e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),d&&e.jsx(l,{type:"button",variant:"ghost",size:"sm",onClick:()=>{m(""),p(o?u:[]),g(o&&u.length>0)},className:"h-6 w-6 p-0",children:e.jsx(C,{className:"h-3 w-3"})})]})]}),f&&h.length>0&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-md shadow-lg z-50 max-h-96 overflow-y-auto",children:[e.jsx("div",{className:"sticky top-0 bg-gray-50 px-3 py-2 border-b border-gray-200",children:e.jsxs("p",{className:"text-xs text-gray-600 font-medium",children:[h.length," product",1!==h.length?"s":""," found"]})}),h.map(s=>e.jsx("div",{className:"p-3 hover:bg-blue-50 cursor-pointer border-b border-gray-100 last:border-b-0 transition-colors",onClick:()=>(e=>{console.log("Product selected:",e),c(e),m(""),g(!1)})(s),children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(S,{className:"w-4 h-4 text-blue-600 flex-shrink-0"}),e.jsx("h4",{className:"font-medium text-sm truncate",children:s.product_name})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Code: ",s.product_code," | Category: ",s.category," | Supplier: ",s.supplier]}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-xs text-green-600 font-medium",children:["Cost: $",s.price?.toFixed(2)||"0.00"]}),e.jsxs("span",{className:"text-xs text-blue-600 font-medium",children:["Retail: $",s.retail_price?.toFixed(2)||"0.00"]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:"text-xs font-medium "+(s.quantity_in_stock<=s.minimum_stock?"text-red-600":s.quantity_in_stock<=2*s.minimum_stock?"text-yellow-600":"text-green-600"),children:["Stock: ",s.quantity_in_stock]}),s.quantity_in_stock<=s.minimum_stock&&e.jsx("span",{className:"text-xs bg-red-100 text-red-700 px-1 py-0.5 rounded",children:"Low Stock"})]})]}),s.description&&e.jsx("p",{className:"text-xs text-gray-500 mt-1 line-clamp-1",children:s.description})]})})},s.ID))]}),d&&0===h.length&&!j&&e.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-md shadow-lg z-50 p-4 text-center",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:['No products found matching "',d,'"']}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Try searching by product name, code, category, or supplier"})]}),j&&e.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-200 rounded-md shadow-lg z-50 p-4 text-center",children:e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading products..."})]})})]})]})})})},z=({isOpen:a,onClose:r,product:n,onConfirm:h})=>{const[p,j]=s.useState(1),[w,_]=s.useState("pieces"),{showError:P}=t(),$=()=>{j(1),_("pieces"),r()},q=()=>{if(!n)return 0;let e=n.price;return"cases"===w&&n.unit_per_case>0&&(e=n.price*n.unit_per_case),e*p},F=()=>n&&"cases"===w&&n.unit_per_case>0?`(${n.unit_per_case} pieces per case)`:"";return n?e.jsx(c,{open:a,onOpenChange:$,children:e.jsxs(i,{className:"sm:max-w-md",children:[e.jsxs(o,{children:[e.jsxs(d,{className:"flex items-center space-x-2",children:[e.jsx(S,{className:"w-5 h-5"}),e.jsx("span",{children:"Add Product to Order"})]}),e.jsx(m,{children:"Configure the quantity and unit type for this product"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[e.jsx("h3",{className:"font-semibold text-lg",children:n.product_name}),e.jsxs("div",{className:"mt-2 space-y-1",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Product Code: ",e.jsx("span",{className:"font-medium",children:n.product_code})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Category: ",e.jsx("span",{className:"font-medium",children:n.category})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Supplier: ",e.jsx("span",{className:"font-medium",children:n.supplier})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-2",children:[e.jsxs(u,{variant:"secondary",children:["$",n.price.toFixed(2)," per unit"]}),e.jsxs(u,{variant:"outline",children:[n.quantity_in_stock," in stock"]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"quantity",children:"Quantity *"}),e.jsx(b,{id:"quantity",value:p,onChange:j,min:1,max:n.quantity_in_stock,className:"w-full",placeholder:"Enter quantity"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Maximum available: ",n.quantity_in_stock," units"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"unitType",children:"Unit Type *"}),e.jsxs(f,{value:w,onValueChange:_,children:[e.jsx(g,{children:e.jsx(y,{placeholder:"Select unit type"})}),e.jsx(N,{children:[{value:"pieces",label:"Pieces (Individual Units)"},{value:"cases",label:"Cases (Bulk Units)"},{value:"boxes",label:"Boxes"},{value:"packs",label:"Packs"},{value:"bottles",label:"Bottles"},{value:"cans",label:"Cans"},{value:"bags",label:"Bags"},{value:"cartons",label:"Cartons"},{value:"dozen",label:"Dozen"},{value:"gallons",label:"Gallons"},{value:"liters",label:"Liters"},{value:"pounds",label:"Pounds"},{value:"kilograms",label:"Kilograms"}].map(s=>e.jsx(v,{value:s.value,children:s.label},s.value))})]}),F()&&e.jsx("p",{className:"text-xs text-muted-foreground",children:F()})]}),e.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium",children:"Total Price:"}),e.jsxs("span",{className:"text-lg font-bold text-blue-600",children:["$",q().toFixed(2)]})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[p," ",w," × $",(q()/p).toFixed(2)," each"]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-3",children:[e.jsxs(l,{variant:"outline",onClick:$,children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Cancel"]}),e.jsxs(l,{onClick:()=>{n&&(p<=0?P(new Error("Invalid quantity entered"),"Please enter a valid quantity greater than 0."):p>n.quantity_in_stock?P(new Error("Insufficient stock"),`Only ${n.quantity_in_stock} units available in stock. Please reduce the quantity or select a different product.`):(h(n,p,w),$()))},children:[e.jsx(k,{className:"w-4 h-4 mr-2"}),"Add to Order"]})]})]})]})}):null},T=()=>{const[c,i]=s.useState(""),[o,d]=s.useState({order_number:"",station:"MOBIL",notes:"",items:[],total_amount:0}),[m,u]=s.useState(!1),[w,_]=s.useState(!1),[C,S]=s.useState([]),[T,B]=s.useState({}),[A,M]=s.useState(null),[R,U]=s.useState(!1),Y=I(),{id:K}=D(),{showError:Q,showSuccess:V,showInfo:G}=t(),[W,H]=s.useState(null),[J,X]=s.useState(null),Z=async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});J&&(J.srcObject=e,H(e))}catch(e){console.error("Error accessing camera:",e),Q(e,"Unable to access camera. Please check your browser permissions and try again.")}},ee=()=>{W&&(W.getTracks().forEach(e=>e.stop()),H(null))},se=(e,s=1,t="pieces")=>{let a=e.price;"cases"===t&&e.unit_per_case>0&&(a=e.price*e.unit_per_case);const r={product:e,quantity:s,unitType:t,subtotal:a*s},l=o.items.findIndex(s=>s.product.ID===e.ID&&s.unitType===t);let n;if(l>=0){n=[...o.items];const a=n[l].quantity+s;let r=n[l].product.price;"cases"===t&&e.unit_per_case>0&&(r=e.price*e.unit_per_case),n[l]={...n[l],quantity:a,subtotal:r*a}}else n=[...o.items,r];const c=n.reduce((e,s)=>e+s.subtotal,0);d(e=>({...e,items:n,total_amount:c})),S([]),B({}),V("Product Added",`${s} ${t} of ${e.product_name} added to order`)},te=(e,s)=>{if(s<=0)return void ae(e);const t=[...o.items],a=t[e];let r=a.product.price;"cases"===a.unitType&&a.product.unit_per_case>0&&(r=a.product.price*a.product.unit_per_case),t[e]={...t[e],quantity:s,subtotal:r*s};const l=t.reduce((e,s)=>e+s.subtotal,0);d(e=>({...e,items:t,total_amount:l}))},ae=e=>{const s=o.items.filter((s,t)=>t!==e),t=s.reduce((e,s)=>e+s.subtotal,0);d(e=>({...e,items:s,total_amount:t}))};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(a,{className:"border-2 border-primary/20",children:[e.jsx(h,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs(p,{className:"flex items-center space-x-2",children:[e.jsx(P,{className:"w-6 h-6"}),e.jsx("span",{children:"Create Order - Station Selection"})]}),e.jsx(j,{children:"First, select the station for this order, then add products"})]}),e.jsxs(l,{variant:"outline",onClick:()=>Y("/orders"),children:[e.jsx($,{className:"w-4 h-4 mr-2"}),"Back to Orders"]})]})}),e.jsx(r,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"station-selector",className:"text-lg font-semibold",children:"Select Delivery Station *"}),e.jsxs(f,{value:c,onValueChange:e=>{i(e),d(s=>({...s,station:e}))},children:[e.jsx(g,{className:"text-lg p-4 h-12",children:e.jsx(y,{placeholder:"Choose a station to begin creating your order"})}),e.jsx(N,{children:["MOBIL","AMOCO ROSEDALE","AMOCO BROOKLYN"].map(s=>e.jsx(v,{value:s,className:"text-lg p-3",children:s},s))})]})]}),c&&e.jsxs("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg",children:[e.jsxs("p",{className:"text-green-800 font-medium",children:["📍 Selected Station: ",e.jsx("span",{className:"font-bold",children:c})]}),e.jsx("p",{className:"text-green-600 text-sm mt-1",children:"You can now add products to your order for this station."})]})]})})]}),c&&e.jsxs(a,{children:[e.jsx(h,{children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{children:[e.jsxs(p,{className:"flex items-center space-x-2",children:[e.jsx(P,{className:"w-6 h-6"}),e.jsxs("span",{children:["Order for ",c]})]}),e.jsx(j,{children:"Scan product barcodes or search manually to add items to your order"})]})})}),e.jsx(r,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsx(a,{className:"border-2 border-dashed border-primary/30 hover:border-primary/50 transition-colors",children:e.jsx(r,{className:"p-6",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx(q,{className:"w-12 h-12 mx-auto text-primary"}),e.jsx("h3",{className:"text-lg font-semibold",children:"Barcode Scanner"}),e.jsx("p",{className:"text-muted-foreground",children:"Click to open camera and scan product barcodes"}),e.jsxs(l,{onClick:()=>{_(!0),setTimeout(Z,100)},className:"w-full sm:w-auto",disabled:m,children:[e.jsx(q,{className:"w-4 h-4 mr-2"}),"Open Barcode Scanner"]})]})})}),e.jsx(L,{onProductSelect:e=>{M(e),U(!0)}}),w&&e.jsxs(a,{className:"border-primary",children:[e.jsx(h,{children:e.jsx(p,{children:"Barcode Scanner"})}),e.jsx(r,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative w-full max-w-md mx-auto aspect-video bg-black rounded-lg overflow-hidden",children:[e.jsx("video",{ref:e=>X(e),autoPlay:!0,playsInline:!0,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"border-2 border-white border-dashed w-48 h-24 rounded-lg"})})]}),e.jsxs("div",{className:"flex space-x-2 justify-center",children:[e.jsx(l,{onClick:()=>{(async e=>{try{u(!0);const{data:s,error:t}=await window.ezsite.apis.tablePage("11726",{PageNo:1,PageSize:10,Filters:[{name:"bar_code_case",op:"Equal",value:e},{name:"bar_code_unit",op:"Equal",value:e}]});if(t)throw t;const a=s?.List||[];S(a),0===a.length?G("No Products Found",`No products found with barcode: ${e}. Please verify the barcode and try again.`):V("Products Found",`Found ${a.length} product(s) matching barcode: ${e}`)}catch(s){console.error("Error searching products:",s),Q(s,"Failed to search for products. Please check your connection and try again.")}finally{u(!1)}})("123456789012"),_(!1),ee()},disabled:m,children:"Capture Barcode"}),e.jsx(l,{variant:"outline",onClick:()=>{_(!1),ee()},children:"Cancel"})]}),e.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Position the barcode within the frame and click Capture"})]})})]}),C.length>0&&e.jsxs(a,{children:[e.jsx(h,{children:e.jsx(p,{children:"Found Products"})}),e.jsx(r,{children:e.jsx("div",{className:"space-y-3",children:C.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold",children:s.product_name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Code: ",s.product_code," | Category: ",s.category]}),e.jsxs("p",{className:"text-sm font-medium text-green-600",children:["Price: $",s.price.toFixed(2)," | Stock: ",s.quantity_in_stock]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(x,{htmlFor:`qty-${s.ID}`,className:"text-sm",children:"Qty:"}),e.jsx(b,{id:`qty-${s.ID}`,value:T[s.ID]||1,onChange:e=>B(t=>({...t,[s.ID]:e})),min:1,max:s.quantity_in_stock,className:"w-20"})]}),e.jsxs(l,{size:"sm",onClick:()=>se(s),className:"flex items-center space-x-1",children:[e.jsx(k,{className:"w-4 h-4"}),e.jsx("span",{children:"Add"})]})]})]},s.ID))})})]}),o.items.length>0&&e.jsxs(a,{children:[e.jsx(h,{children:e.jsxs(p,{children:["Order Items (",o.items.length,")"]})}),e.jsx(r,{children:e.jsxs("div",{className:"space-y-3",children:[o.items.map((s,t)=>e.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg bg-gray-50",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-semibold",children:s.product.product_name}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.product.product_code," | $",(s.subtotal/s.quantity).toFixed(2)," per ",s.unitType]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Unit Type: ",s.unitType]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(l,{size:"sm",variant:"outline",onClick:()=>te(t,s.quantity-1),children:e.jsx(F,{className:"w-3 h-3"})}),e.jsxs("span",{className:"w-8 text-center font-medium",children:[s.quantity," ",s.unitType]}),e.jsx(l,{size:"sm",variant:"outline",onClick:()=>te(t,s.quantity+1),children:e.jsx(k,{className:"w-3 h-3"})})]}),e.jsx("div",{className:"text-right min-w-[80px]",children:e.jsxs("p",{className:"font-semibold",children:["$",s.subtotal.toFixed(2)]})}),e.jsx(l,{size:"sm",variant:"destructive",onClick:()=>ae(t),children:e.jsx(O,{className:"w-4 h-4"})})]})]},`${s.product.ID}-${t}`)),e.jsx("div",{className:"border-t pt-3",children:e.jsxs("div",{className:"flex justify-between items-center text-lg font-bold",children:[e.jsx("span",{children:"Total Amount:"}),e.jsxs("span",{children:["$",o.total_amount.toFixed(2)]})]})})]})})]}),e.jsxs(a,{children:[e.jsx(h,{children:e.jsx(p,{children:"Order Details"})}),e.jsx(r,{children:e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),0!==o.items.length)if(o.station)try{u(!0);const e=o.order_number||(()=>{const e=new Date,s=e.getTime().toString().slice(-6);return`ORD-${e.getFullYear()}${(e.getMonth()+1).toString().padStart(2,"0")}-${s}`})(),s={order_number:e,vendor_id:1,order_date:(new Date).toISOString(),station:o.station,total_amount:o.total_amount,status:"Pending",notes:o.notes+`\n\nItems:\n${o.items.map(e=>`- ${e.product.product_name} (${e.product.product_code}) x${e.quantity} ${e.unitType} = $${e.subtotal.toFixed(2)}`).join("\n")}`,created_by:1},{error:t}=await window.ezsite.apis.tableCreate("11730",s);if(t)throw t;V("Order Created Successfully",`Order ${e} has been created for ${o.station} with ${o.items.length} items.`),Y("/orders")}catch(s){console.error("Error creating order:",s),Q(s,"Failed to create order. Please check your data and try again, or contact support if the problem persists.")}finally{u(!1)}else Q(new Error("Missing station"),"Please select a delivery station for this order.");else Q(new Error("Empty order"),"Please add at least one product to the order before submitting.")},className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"order_number",children:"Order Number"}),e.jsx(n,{id:"order_number",value:o.order_number,onChange:e=>d(s=>({...s,order_number:e.target.value})),placeholder:"Auto-generated if left empty"})]}),e.jsx("div",{className:"space-y-2",children:e.jsxs("div",{className:"p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx(x,{className:"text-blue-800 font-medium",children:"Delivery Station"}),e.jsx("p",{className:"text-blue-600 font-semibold text-lg",children:c}),e.jsx("p",{className:"text-blue-500 text-sm",children:"Selected at the top of the page"})]})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(x,{htmlFor:"notes",children:"Notes"}),e.jsx(n,{id:"notes",value:o.notes,onChange:e=>d(s=>({...s,notes:e.target.value})),placeholder:"Enter any additional notes about this order..."})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-4 pt-4",children:[e.jsx(l,{type:"button",variant:"outline",onClick:()=>Y("/orders"),children:"Cancel"}),e.jsx(l,{type:"submit",disabled:m||0===o.items.length,children:m?"Creating...":e.jsxs(e.Fragment,{children:[e.jsx(E,{className:"w-4 h-4 mr-2"}),"Create Order"]})})]})]})})]})]})})]}),e.jsx(z,{isOpen:R,onClose:()=>{U(!1),M(null)},product:A,onConfirm:(e,s,t)=>{se(e,s,t),U(!1),M(null)}})]})};export{T as default};
